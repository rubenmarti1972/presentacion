<div class="model-wrapper">
  <div class="model-header">
    <p class="model-subtitle">
      Diagrama de color no euclidiano — Colores espectrales sobre geometría curva
    </p>
  </div>

  <div class="svg-container">
    <svg #svgContainer viewBox="0 0 400 400" class="helmholtz-svg">
      <defs>
        <!-- Gradiente para el triángulo -->
        <linearGradient id="triangleGrad1" x1="0%" y1="0%" x2="100%" y2="0%">
          <stop offset="0%" style="stop-color:rgb(255,0,0);stop-opacity:1" />
          <stop offset="50%" style="stop-color:rgb(255,255,255);stop-opacity:1" />
          <stop offset="100%" style="stop-color:rgb(0,255,0);stop-opacity:1" />
        </linearGradient>
        <linearGradient id="triangleGrad2" x1="50%" y1="0%" x2="50%" y2="100%">
          <stop offset="0%" style="stop-color:rgb(255,255,255);stop-opacity:0.3" />
          <stop offset="100%" style="stop-color:rgb(0,0,255);stop-opacity:1" />
        </linearGradient>
      </defs>

      <g class="rotating-group">
        <!-- Triángulo base con gradiente -->
        <polygon
          points="200,80 320,320 80,320"
          fill="url(#triangleGrad1)"
          opacity="0.4"
          stroke="#555"
          stroke-width="2"
        />

        <!-- Curva espectral (curva de Helmholtz) -->
        <path
          [attr.d]="getSpectralPath()"
          fill="none"
          stroke="url(#spectralGradient)"
          stroke-width="4"
          stroke-linecap="round"
        />

        <defs>
          <linearGradient id="spectralGradient" x1="0%" y1="0%" x2="100%" y2="0%">
            <stop offset="0%" style="stop-color:#8B00FF" />
            <stop offset="16.7%" style="stop-color:#0000FF" />
            <stop offset="33.3%" style="stop-color:#00FFFF" />
            <stop offset="50%" style="stop-color:#00FF00" />
            <stop offset="66.7%" style="stop-color:#FFFF00" />
            <stop offset="83.3%" style="stop-color:#FF7F00" />
            <stop offset="100%" style="stop-color:#FF0000" />
          </linearGradient>
        </defs>

        <!-- Punto blanco en el centro -->
        <circle cx="200" cy="200" r="6" fill="white" stroke="#333" stroke-width="2"/>

        <!-- Puntos en los vértices del triángulo -->
        <circle cx="200" cy="80" r="8" fill="red" stroke="#fff" stroke-width="2"/>
        <circle cx="320" cy="320" r="8" fill="green" stroke="#fff" stroke-width="2"/>
        <circle cx="80" cy="320" r="8" fill="blue" stroke="#fff" stroke-width="2"/>

        <!-- Labels -->
        <text x="200" y="70" text-anchor="middle" fill="#fff" font-size="14" font-weight="bold">R</text>
        <text x="330" y="330" text-anchor="middle" fill="#fff" font-size="14" font-weight="bold">G</text>
        <text x="70" y="330" text-anchor="middle" fill="#fff" font-size="14" font-weight="bold">B</text>
      </g>
    </svg>
  </div>

  <p class="model-caption">
    Hermann von Helmholtz modificó el triángulo de Maxwell, colocando los colores espectrales en una curva (no en línea recta), estableciendo las bases de la geometría no euclidiana del color.
  </p>
</div>
